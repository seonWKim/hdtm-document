"use strict";(self.webpackChunkhdtm_document=self.webpackChunkhdtm_document||[]).push([[414],{2653:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>N,contentTitle:()=>S,default:()=>I,frontMatter:()=>w,metadata:()=>a,toc:()=>A});const a=JSON.parse('{"id":"others/guests","title":"Guest Feedbacks","description":"Please give us some feedbacks \ud83d\ude09","source":"@site/docs/others/guests.mdx","sourceDirName":"others","slug":"/others/guests","permalink":"/hdtm-document/docs/others/guests","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":300,"frontMatter":{"sidebar_position":300},"sidebar":"tutorialSidebar","previous":{"title":"Vote","permalink":"/hdtm-document/docs/others/votes"},"next":{"title":"Pathway","permalink":"/hdtm-document/docs/others/pathway"}}');var n=s(4848),r=s(8453),o=s(6540),i=s(223),c=s(1884),d=s(5347);const l=(0,i.Wp)({apiKey:"AIzaSyBf4rvXHX1e-wz-mCsG4BVn9hlJzxe3KmI",authDomain:"hdtml-document.firebaseapp.com",projectId:"hdtml-document",storageBucket:"hdtml-document.firebasestorage.app",messagingSenderId:"2009120721",appId:"1:2009120721:web:19bc8728afc3b68fb4eaf0",measurementId:"G-5BF5B4VK1S"}),u=(0,c.aU)(l),h=(0,d.xI)(l),m=new d.HF;var p=s(8774);const g=e=>{let{buttonText:t="Sign in with Google"}=e;const[s,a]=(0,o.useState)(null),[r,i]=(0,o.useState)(!1);return(0,n.jsx)("div",{style:{textAlign:"center",marginTop:"50px"},children:s?(0,n.jsx)("div",{}):(0,n.jsx)("div",{style:{textAlign:"left"},children:(0,n.jsx)(p.A,{className:"button button--primary button--md",onClick:async()=>{i(!0);try{const e=await(async()=>{try{return await(0,d.df)(h,m)}catch(e){console.error("Error during sign-in: ",e)}})();a(e.user)}catch(e){console.error("Error during sign-in: ",e)}finally{i(!1),window.location.reload()}},children:r?"Signing in...":t})})})};var f=s(8500);const x=(0,c.rJ)(u,"/guest-feedback"),b=()=>{const[e,t]=(0,o.useState)(null),[s,a]=(0,o.useState)("");(0,o.useEffect)((()=>{(async()=>{const e=await new Promise((e=>{(0,d.hg)(h,(t=>{e(t)}))}));t(e)})()}),[]);return e?(0,n.jsx)("div",{style:{textAlign:"center",marginTop:"50px"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)("textarea",{placeholder:"Best toastmaster meetings ever!!",value:s,onChange:e=>a(e.target.value),className:"form-control",style:{width:"100%",height:"100px",marginBottom:"10px",padding:"10px",borderRadius:"5px",border:"1px solid #ced4da",fontSize:"16px"}}),(0,n.jsx)("div",{style:{alignSelf:"flex-end"},children:(0,n.jsx)(p.A,{className:"button button--primary button--md",onClick:async()=>{if(e){const t=e.displayName||"Anonymous",n=e.email||"No email provided",r=e.photoURL;await(async(e,t,s,a)=>{try{await(0,c.gS)(x,{id:(0,f.A)(),name:e,email:t,photoURL:s,content:a,createdAt:new Date,updatedAt:new Date})}catch(n){console.error("Error adding feedback: ",n)}})(t,n,r,s),a("")}window.location.reload()},children:"Submit"})})]})}):(0,n.jsx)(g,{buttonText:"Sign in with Google to give us feedbacks"})},v=["https://drive.google.com/thumbnail?id=1Eoic8f4bCxZDfuuHOBx9iW6l09j-s1JN","https://drive.google.com/thumbnail?id=14Ql_1qh32UQ2BisuTIz5dAJhZ2kDOqQ1","https://drive.google.com/thumbnail?id=1FCszMH0dE69p3ii3vgH0rwbbCv08p4Nk","https://drive.google.com/thumbnail?id=1K0ckzE1jJVwkLS6H70BdLgPX5PlikVjZ"],k=()=>{const e=Math.floor(Math.random()*v.length);return v[e]},j=e=>{const t=e.seconds;return new Date(1e3*t).toLocaleDateString("en-CA")},y=()=>{const[e,t]=(0,o.useState)([]),[s,a]=(0,o.useState)(0),[r,i]=(0,o.useState)([]),d=(0,o.useCallback)((async()=>{const e=await(async(e,t)=>{let s;s=t?(0,c.P)(x,(0,c._M)("id","<",t),(0,c.My)("id","desc"),(0,c.AB)(e)):(0,c.P)(x,(0,c.My)("id","desc"),(0,c.AB)(e));try{return(await(0,c.GG)(s)).docs.map((e=>({...e.data()})))}catch(a){return console.error("Error fetching feedbacks: ",a),[]}})(10);t(e.map((e=>({...e,photoURL:e.photoURL?e.photoURL:k()}))))}),[]);return(0,o.useEffect)((()=>{d()}),[d]),(0,o.useEffect)((()=>{if(e.length>0){const t=setInterval((()=>{a((t=>(t+1)%e.length))}),3e3);return()=>clearInterval(t)}}),[e]),(0,o.useEffect)((()=>{e.length>0&&(e.length>10?i(Array.from({length:10}).map(((t,a)=>e[(s+a)%e.length]))):i(e))}),[e,s,10]),(0,n.jsx)("div",{className:"feedback-list",children:(0,n.jsx)("div",{className:"feedback-carousel",children:r.map(((e,t)=>(0,n.jsxs)("div",{className:"feedback-item",style:{animation:"slideIn 0.8s ease forwards"},children:[(0,n.jsx)("div",{className:"avatar-container",children:(0,n.jsx)("img",{src:e?.photoURL,alt:e?.name,className:"avatar"})}),(0,n.jsxs)("div",{className:"content-container",children:[(0,n.jsx)("div",{className:"author-name",children:e?.name}),(0,n.jsx)("div",{className:"comment-content",children:e?.content}),(0,n.jsx)("div",{className:"timestamp",children:j(e?.createdAt)})]})]},t)))})})},w={sidebar_position:300},S="Guest Feedbacks",N={},A=[{value:"Previous Feedbacks",id:"previous-feedbacks",level:2}];function B(e){const t={h1:"h1",h2:"h2",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"guest-feedbacks",children:"Guest Feedbacks"})}),"\n",(0,n.jsx)(t.p,{children:"Please give us some feedbacks \ud83d\ude09"}),"\n",(0,n.jsx)(b,{}),"\n",(0,n.jsx)(t.h2,{id:"previous-feedbacks",children:"Previous Feedbacks"}),"\n",(0,n.jsx)(y,{})]})}function I(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(B,{...e})}):B(e)}}}]);